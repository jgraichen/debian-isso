.\" Man page generated from reStructuredText.
.
.TH "ISSO" "1" "Sep 20, 2016" "0.10" "Isso"
.SH NAME
isso \- a Disqus alternative
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH WHAT'S ISSO?
.sp
Isso is a lightweight commenting server similar to Disqus. It allows anonymous
comments, maintains identity and is simple to administrate. It uses JavaScript
and cross\-origin ressource sharing for easy integration into static websites.
.SH NO, I MEANT "ISSO"
.sp
Isso is an informal, german abbreviation for "Ich schrei sonst!", which can
roughly be translated to "I\(aqm yelling otherwise". It usually ends the
discussion without any further arguments.
.sp
In germany, Isso \fI\%is also pokémon N° 360\fP\&.
.SH WHAT'S WRONG WITH DISQUS?
.sp
No anonymous comments (IP address, email and name recorded), hosted in the USA,
third\-party. Just like IntenseDebate, livefrye etc. When you embed Disqus, they
can do anything with your readers (and probably mine Bitcoins, see the loading
times).
.SH SETUP
.SS Quickstart
.sp
Assuming you have successfully installed Isso, here\(aqs
a quickstart quide that covers the most common setup. Sections covered:
.INDENT 0.0
.IP \(bu 2
\fI\%Configuration\fP
.IP \(bu 2
\fI\%Migration\fP
.IP \(bu 2
\fI\%Running Isso\fP
.IP \(bu 2
\fI\%Integration\fP
.IP \(bu 2
\fI\%Going Further\fP
.UNINDENT
.SS Configuration
.sp
You must provide a custom configuration to set \fIdbpath\fP (your database
location) and \fIhost\fP (a list of websites for \fI\%CORS\fP). All other options have
sane defaults.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
[general]
; database location, check permissions, automatically created if not exists
dbpath = /var/lib/isso/comments.db
; your website or blog (not the location of Isso!)
host = http://example.tld/
; you can add multiple hosts for local development
; or SSL connections. There is no wildcard to allow
; any domain.
host =
    http://localhost:1234/
    http://example.tld/
    https://example.tld/
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Note, that multiple, \fIdifferent\fP websites are \fBnot\fP supported in a single
configuration. To serve comments for different websites, refer to
Multiple Sites\&.
.sp
The moderation is done with signed URLs sent by email or logged to stdout.
By default, comments are accepted and immediately shown to other users. To
enable moderation queue, add:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
[moderation]
enabled = true
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
To moderate comments, either use the activation or deletion URL in the logs or
use SMTP to get notified of new comments, including the
URLs for activation and deletion:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
[general]
notify = smtp
[smtp]
; SMTP settings
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
For more options, see server and client configuration.
.SS Migration
.sp
You can import comments from \fI\%Disqus\fP or \fI\%WordPress\fP\&.
.sp
To export your comments from Disqus, log into Disqus, go to your website, click
on \fIDiscussions\fP and select the \fIExport\fP tab. You\(aqll receive an email with your
comments. Unfortunately, Disqus does not export up\- and downvotes.
.sp
To export comments from your previous WordPress installation, go to \fITools\fP,
export your data. It has been reported that WordPress may generate broken XML.
Try to repair the file using \fBxmllint\fP before you continue with the import.
.sp
Now import the XML dump:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
~> isso \-c /path/to/isso.cfg import disqus\-or\-wordpress.xml
[100%]  53 threads, 192 comments
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Running Isso
.sp
To run Isso, simply execute:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ isso \-c /path/to/isso.cfg run
2013\-11\-25 15:31:34,773 INFO: connected to HTTP server
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Next, we configure \fI\%Nginx\fP to proxy Isso. Do not run Isso on a public interface!
A popular but often error\-prone (because of \fI\%CORS\fP) setup to host Isso uses a
dedicated domain such as \fBcomments.example.tld\fP\&.
.sp
Assuming both, your website and Isso are on the same server, the nginx
configuration looks like this:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
server {
    listen [::]:80 default ipv6only=off;
    server_name example.tld;
    root ...;
}

server {
    listen [::]:80;
    server_name comments.example.tld;

    location / {
        proxy_pass http://localhost:8080;
        proxy_set_header X\-Forwarded\-For $proxy_add_x_forwarded_for;
        proxy_set_header Host $host;
        proxy_set_header X\-Forwarded\-Proto $scheme;
    }
}
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Integration
.sp
Now, you embed Isso to your website:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
<script data\-isso="//comments.example.tld/"
        src="//comments.example.tld/js/embed.min.js"></script>

<section id="isso\-thread"></section>
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Note, that \fIdata\-isso\fP is optional, but when a website includes a script using
\fBasync\fP it is no longer possible to determine the script\(aqs external URL.
.sp
That\(aqs it. When you open your website, you should see a commenting form. Leave
a comment to see if the setup works. If not, see troubleshooting\&.
.SS Going Further
.sp
There are several server and client configuration options uncovered in this
quickstart, check out configuration/server and
configuration/client for more information. For further website
integration, see extras/advanced\-integration\&.
.sp
To launch Isso automatically, check the init\-scripts section from the
installation guide. A different approach to deploy a web application is
written here: Deployment of Isso\&.
.SS Troubleshooting
.SS pkg_ressources.DistributionNotFound
.sp
This is usually caused by messing up the system\(aqs Python with newer packages
from PyPi (e.g. by executing \fIeasy_install \-\-upgrade pip\fP as root) and is not
related to Isso at all.
.sp
Install Isso in a virtual environment as described in
install\-interludium\&. Alternatively, you can use \fIpip install \-\-user\fP
to install Isso into the user\(aqs home.
.SS UnicodeDecodeError: \(aqascii\(aq codec can\(aqt decode byte 0xff
.sp
Likely an issue with your environment, check you set your preferred file
encoding either in \fBLANG\fP, \fBLANGUAGE\fP, \fBLC_ALL\fP or
\fBLC_CTYPE\fP:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ env LANG=C.UTF\-8 isso [\-h] [\-\-version] ...
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
If none of the mentioned variables is set, the interaction with Isso will
likely fail (unable to print non\-ascii characters to stdout/err, unable to
parse configuration file with non\-ascii characters and to forth).
.SS The web console shows 404 Not Found responses
.sp
That\(aqs fine. Isso returns "404 Not Found" to indicate "No comments".
.SH AUTHOR
Martin Zimmermann
.SH COPYRIGHT
2016, Martin Zimmermann
.\" Generated by docutils manpage writer.
.
